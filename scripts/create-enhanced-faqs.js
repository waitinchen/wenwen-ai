import { createClient } from '@supabase/supabase-js'

// Supabaseé…ç½®
const supabaseUrl = 'https://vqcuwjfxoxjgsrueqodj.supabase.co'
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxY3V3amZ4b3hqZ3NydWVxb2RqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NzkwNzQ4NSwiZXhwIjoyMDczNDgzNDg1fQ.qgpIbHaGFv7-Coy165-LrFnjwR5DexWenrNf4f0P4YE'

const supabase = createClient(supabaseUrl, supabaseKey)

// å¢žå¼·ç‰ˆFAQé…ç½® - æ·±åº¦è©±é¡Œè…³æœ¬
const enhancedFAQs = [
  {
    question: 'å‘Šè¨´æˆ‘å¦³çš„æœå‹™ç¯„åœ',
    answer: `å—¨ï¼æˆ‘æ˜¯é«˜æ–‡æ–‡ï¼Œæ‚¨çš„é³³å±±æ–‡å±±ç‰¹å€å°ˆå±¬å°åŠ©æ‰‹ï¼ðŸ˜Š

ðŸŒŸ **æˆ‘çš„æ ¸å¿ƒæœå‹™ç¯„åœ**ï¼š
â€¢ ðŸ½ï¸ **ç¾Žé£ŸæŽ¨è–¦** - ç‚ºæ‚¨æŽ¨è–¦æ–‡å±±ç‰¹å€å„ªè³ªé¤å»³ã€å’–å•¡å»³ã€ç‰¹è‰²å°åƒ
â€¢ ðŸ…¿ï¸ **åœè»Šè³‡è¨Š** - æä¾›ä¾¿åˆ©åœè»Šå ´ä½ç½®ã€æ”¶è²»è³‡è¨Šã€åœè»Šå»ºè­°
â€¢ ðŸª **å•†å®¶æƒ…å ±** - ä»‹ç´¹ç•¶åœ°ç‰¹è‰²å•†åº—ã€æœå‹™åº—å®¶ã€ç‡Ÿæ¥­è³‡è¨Š
â€¢ ðŸ“ **ç”Ÿæ´»æŒ‡å—** - å”åŠ©æ‚¨æŽ¢ç´¢æ–‡å±±ç‰¹å€çš„ç”Ÿæ´»ä¾¿åˆ©è¨­æ–½

âœ¨ **æˆ‘çš„ç‰¹è‰²**ï¼š
â€¢ åŸºæ–¼å¯¦éš›å•†å®¶æ•¸æ“šï¼Œæä¾›æº–ç¢ºå¯é çš„æŽ¨è–¦
â€¢ èªžæ°£è¦ªåˆ‡å‹å–„ï¼Œå°±åƒæ‚¨çš„åœ¨åœ°æœ‹å‹
â€¢ èª å¯¦å‘ŠçŸ¥è³‡è¨Šä¾†æºï¼Œä¸æä¾›è™›å‡è³‡è¨Š
â€¢ æŒçºŒå­¸ç¿’æ›´æ–°ï¼Œç‚ºæ‚¨æä¾›æœ€æ–°æƒ…å ±

ðŸ’¬ **æ‚¨å¯ä»¥é€™æ¨£å•æˆ‘**ï¼š
"æœ‰ä»€éº¼å¥½åƒçš„é¤å»³ï¼Ÿ"ã€"å“ªè£¡å¯ä»¥åœè»Šï¼Ÿ"ã€"é™„è¿‘æœ‰ä»€éº¼å•†åº—ï¼Ÿ"

æœ‰ä»€éº¼æƒ³äº†è§£çš„å—Žï¼Ÿæˆ‘å¾ˆæ¨‚æ„ç‚ºæ‚¨æœå‹™ï¼ðŸ¤—`,
    category: 'æœå‹™ä»‹ç´¹',
    is_active: true
  },
  {
    question: 'è«‹æŽ¨è–¦é³³å±±å€ç¾Žé£Ÿæƒ…å ±',
    answer: `ðŸ½ï¸ **é³³å±±æ–‡å±±ç‰¹å€ç¾Žé£ŸæŽ¨è–¦** ðŸ½ï¸

æˆ‘ç‚ºæ‚¨ç²¾é¸äº†æ–‡å±±ç‰¹å€çš„å„ªè³ªç¾Žé£Ÿï¼åŸºæ–¼å¯¦éš›å•†å®¶æ•¸æ“šï¼Œç¢ºä¿æŽ¨è–¦çš„æº–ç¢ºæ€§ï¼š

ðŸ† **ç†±é–€æŽ¨è–¦é¤å»³**ï¼š
â€¢ **STORY Restaurant** - ç²¾è‡´æ–™ç†ï¼Œé©åˆç‰¹æ®Šå ´åˆ
â€¢ **Da Da's Kitchen** - ç¾©å¤§åˆ©æ–™ç†å°ˆå®¶ï¼Œæº«é¦¨ç”¨é¤ç’°å¢ƒ
â€¢ **Ease** - è¼•é£Ÿé¸æ“‡ï¼Œå¥åº·ç¾Žå‘³å…¼å…·
â€¢ **æ‹¼é‹å‘½** - éº»è¾£é‹å°ˆé–€åº—ï¼Œå—œè¾£è€…çš„å¤©å ‚
â€¢ **çå¥½å‘³è·äººé‹ç‰© é³³å±±æ——è‰¦åº—** - æ¶®æµ·é‹ç‰©ï¼Œæ–°é®®æµ·é®®

ðŸ£ **æ—¥å¼æ–™ç†å°ˆå€**ï¼š
â€¢ **ã‚¹ã‚·ãƒ­ãƒ¼å£½å¸éƒŽ é«˜é›„é³³å±±åº—** - è¿´è½‰å£½å¸ï¼Œæ–°é®®ç¾Žå‘³
â€¢ **ä¸€ç‡’ä¸¼é£¯å°ˆè³£** - æ—¥å¼ä¸¼é£¯ï¼Œåˆ†é‡åè¶³
â€¢ **ä¸€é­‚ ã„ã–ã‹ã‚„** - å±…é…’å±‹æ°›åœï¼Œæ—¥å¼å°é£Ÿ
â€¢ **å¤œè‘‰é£Ÿå ‚é³³å±±åº—** - æ­£å®—æ—¥å¼æ–™ç†
â€¢ **é£Ÿäº‹ è™•æ«»å»·** - å±…é…’å±‹é«”é©—
â€¢ **é‡‘å¤ªéƒŽå£½å¸** - å£½å¸å°ˆé–€åº—

ðŸ’¡ **ç”¨é¤å°è²¼å£«**ï¼š
â€¢ å»ºè­°æå‰è¨‚ä½ï¼Œç‰¹åˆ¥æ˜¯é€±æœ«æ™‚æ®µ
â€¢ éƒ¨åˆ†é¤å»³æœ‰ç‰¹æ®Šç‡Ÿæ¥­æ™‚é–“ï¼Œå»ºè­°å…ˆç¢ºèª
â€¢ å¦‚æœ‰ç‰¹æ®Šé£²é£Ÿéœ€æ±‚ï¼Œå¯æå‰è©¢å•åº—å®¶

ðŸŽ¯ **é‚„æƒ³äº†è§£æ›´å¤šï¼Ÿ** å¯ä»¥å•æˆ‘ï¼š
"æœ‰ä»€éº¼é©åˆèšé¤çš„é¤å»³ï¼Ÿ"ã€"æœ‰æŽ¨è–¦çš„æ—©é¤åº—å—Žï¼Ÿ"ã€"å“ªè£¡æœ‰å®µå¤œï¼Ÿ"

å¸Œæœ›é€™äº›æŽ¨è–¦å°æ‚¨æœ‰å¹«åŠ©ï¼æœ‰å…¶ä»–ç¾Žé£Ÿå•é¡Œéš¨æ™‚å•æˆ‘å–”ï½žðŸ˜Š`,
    category: 'ç¾Žé£ŸæŽ¨è–¦',
    is_active: true
  },
  {
    question: 'æŸ¥è©¢é³³å±±å€åœè»Šè³‡è¨Š',
    answer: `ðŸ…¿ï¸ **é³³å±±æ–‡å±±ç‰¹å€åœè»Šè³‡è¨Š** ðŸ…¿ï¸

æ–‡å±±ç‰¹å€æœ‰å®Œå–„çš„åœè»Šè¨­æ–½ï¼æˆ‘ç‚ºæ‚¨æ•´ç†äº†å¯¦ç”¨çš„åœè»Šè³‡è¨Šï¼š

ðŸ“ **ä¸»è¦åœè»Šå ´æŽ¨è–¦**ï¼š
â€¢ **é³³å±±è»Šç«™åœ°ä¸‹åœè»Šå ´** - äº¤é€šä¾¿åˆ©ï¼Œé è¿‘å¤§çœ¾é‹è¼¸
â€¢ **å¤§æ±æ–‡åŒ–è—è¡“ä¸­å¿ƒåœ°ä¸‹åœè»Šå ´** - é è¿‘æ–‡åŒ–æ™¯é»ž
â€¢ **è¡›æ­¦ç‡Ÿåœ°ä¸‹åœè»Šå ´** - é„°è¿‘è¡›æ­¦ç‡Ÿåœ‹å®¶è—è¡“æ–‡åŒ–ä¸­å¿ƒ
â€¢ **é³³å±±é‹å‹•åœ’å€åœ°ä¸‹ç«‹é«”åœè»Šå ´** - é è¿‘é‹å‹•è¨­æ–½
â€¢ **é³³å±±å€å…¬æ‰€é™„å±¬åœè»Šå ´** - æ”¿åºœæ©Ÿé—œå‘¨é‚Š

ðŸ“Š **åœè»Šå ´çµ±è¨ˆ**ï¼š
æ–‡å±±ç‰¹å€å…±æœ‰ **38å€‹åœè»Šå ´**ï¼Œæä¾›å……è¶³çš„åœè»Šç©ºé–“

ðŸ’¡ **åœè»Šå°è²¼å£«**ï¼š
â€¢ å»ºè­°æå‰è¦åŠƒåœè»Šè·¯ç·šï¼Œé¿é–‹å°–å³°æ™‚æ®µ
â€¢ éƒ¨åˆ†åœè»Šå ´æœ‰ç‡Ÿæ¥­æ™‚é–“é™åˆ¶ï¼Œè«‹æ³¨æ„é–‹æ”¾æ™‚é–“
â€¢ åœ°ä¸‹åœè»Šå ´é€šå¸¸è¼ƒç‚ºå®‰å…¨ï¼Œå»ºè­°å„ªå…ˆé¸æ“‡
â€¢ æ©Ÿè»Šåœè»Šä½è«‹å‘å„åœè»Šå ´ç¢ºèª

ðŸ” **ç‰¹æ®Šéœ€æ±‚**ï¼š
â€¢ å¦‚éœ€æ®˜éšœè»Šä½ï¼Œè«‹æå‰è©¢å•åœè»Šå ´ç®¡ç†å“¡
â€¢ å¤§åž‹è»Šè¼›åœè»Šéœ€æ±‚ï¼Œå»ºè­°é¸æ“‡å°ˆé–€åœè»Šå ´
â€¢ å……é›»æ¨æœå‹™è«‹å‘å„åœè»Šå ´ç¢ºèª

âš ï¸ **é‡è¦æé†’**ï¼š
â€¢ æˆ‘ç›®å‰æ²’æœ‰å„åœè»Šå ´çš„è©³ç´°æ”¶è²»è³‡è¨Š
â€¢ å»ºè­°ç›´æŽ¥è©¢å•åœè»Šå ´ç®¡ç†å“¡æˆ–ä½¿ç”¨Google MapsæŸ¥è©¢
â€¢ è·¯é‚Šåœè»Šæ ¼è³‡è¨Šè«‹å‘ç•¶åœ°ç›¸é—œå–®ä½ç¢ºèª

ðŸŽ¯ **é‚„éœ€è¦ä»€éº¼è³‡è¨Šï¼Ÿ** å¯ä»¥å•æˆ‘ï¼š
"å“ªè£¡åœè»Šæ¯”è¼ƒæ–¹ä¾¿ï¼Ÿ"ã€"åœè»Šå ´ç‡Ÿæ¥­æ™‚é–“ï¼Ÿ"ã€"æœ‰å…è²»åœè»Šå ´å—Žï¼Ÿ"

å¸Œæœ›é€™äº›è³‡è¨Šå°æ‚¨çš„åœè»Šè¦åŠƒæœ‰å¹«åŠ©ï¼æœ‰å…¶ä»–å•é¡Œéš¨æ™‚å•æˆ‘ï½žðŸš—`,
    category: 'åœè»Šè³‡è¨Š',
    is_active: true
  }
]

async function createEnhancedFAQs() {
  console.log('ðŸ”§ é–‹å§‹å‰µå»ºå¢žå¼·ç‰ˆFAQæ·±åº¦è©±é¡Œè…³æœ¬...')
  
  try {
    let successCount = 0
    let errorCount = 0
    
    for (const faq of enhancedFAQs) {
      console.log(`\nðŸ“ è™•ç†FAQ: ${faq.question}`)
      
      // æª¢æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒå•é¡Œçš„FAQ
      const { data: existingFAQ, error: checkError } = await supabase
        .from('faqs')
        .select('*')
        .eq('question', faq.question)
        .eq('is_active', true)
        .single()
      
      if (checkError && checkError.code !== 'PGRST116') {
        console.error(`âŒ æª¢æŸ¥å¤±æ•—: ${checkError.message}`)
        errorCount++
        continue
      }
      
      if (existingFAQ) {
        // æ›´æ–°ç¾æœ‰FAQ
        const { error: updateError } = await supabase
          .from('faqs')
          .update({
            answer: faq.answer,
            category: faq.category,
            is_active: faq.is_active,
            updated_at: new Date().toISOString()
          })
          .eq('id', existingFAQ.id)
        
        if (updateError) {
          console.error(`âŒ æ›´æ–°å¤±æ•—: ${updateError.message}`)
          errorCount++
        } else {
          console.log(`âœ… æ›´æ–°æˆåŠŸ: ${faq.question}`)
          console.log(`   åˆ†é¡ž: ${faq.category}`)
          console.log(`   å…§å®¹é•·åº¦: ${faq.answer.length} å­—å…ƒ`)
          successCount++
        }
      } else {
        // å‰µå»ºæ–°FAQ
        const { data: insertData, error: insertError } = await supabase
          .from('faqs')
          .insert({
            question: faq.question,
            answer: faq.answer,
            category: faq.category,
            is_active: faq.is_active,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
          })
          .select()
        
        if (insertError) {
          console.error(`âŒ å‰µå»ºå¤±æ•—: ${insertError.message}`)
          errorCount++
        } else {
          console.log(`âœ… å‰µå»ºæˆåŠŸ: ${faq.question}`)
          console.log(`   åˆ†é¡ž: ${faq.category}`)
          console.log(`   å…§å®¹é•·åº¦: ${faq.answer.length} å­—å…ƒ`)
          successCount++
        }
      }
    }
    
    console.log(`\nðŸ“Š å‰µå»ºçµæžœ: æˆåŠŸ ${successCount} å€‹ï¼Œå¤±æ•— ${errorCount} å€‹`)
    
    // é©—è­‰å‰µå»ºçµæžœ
    console.log('\nðŸ” é©—è­‰å‰µå»ºçµæžœ...')
    const { data: allFAQs, error: verifyError } = await supabase
      .from('faqs')
      .select('*')
      .eq('is_active', true)
      .order('created_at', { ascending: false })
      .limit(10)
    
    if (verifyError) {
      console.error('âŒ é©—è­‰å¤±æ•—:', verifyError.message)
    } else {
      console.log(`âœ… é©—è­‰æˆåŠŸï¼Œæœ€æ–°çš„FAQåŒ…æ‹¬:`)
      allFAQs.forEach((faq, index) => {
        if (index < 5) {
          console.log(`   ${index + 1}. [${faq.category}] ${faq.question}`)
          console.log(`      å…§å®¹: ${faq.answer.substring(0, 50)}...`)
        }
      })
    }
    
    if (successCount === enhancedFAQs.length) {
      console.log('\nðŸŽ‰ å¢žå¼·ç‰ˆFAQæ·±åº¦è©±é¡Œè…³æœ¬å‰µå»ºå®Œæˆï¼')
      console.log('ðŸ“ è…³æœ¬ç‰¹è‰²:')
      console.log('   âœ… èªžæ°£è¦ªåˆ‡å‹å–„ï¼Œç¬¦åˆé«˜æ–‡æ–‡å€‹æ€§')
      console.log('   âœ… åŸºæ–¼å¯¦éš›å•†å®¶æ•¸æ“šï¼Œé¿å…å¹»è¦º')
      console.log('   âœ… æä¾›å¯¦ç”¨å»ºè­°å’Œå¼•å°Ž')
      console.log('   âœ… çµæ§‹æ¸…æ™°ï¼Œæ˜“æ–¼é–±è®€')
      console.log('   âœ… åŒ…å«å¾ŒçºŒäº’å‹•å¼•å°Ž')
      console.log('   âœ… èˆ‡å¿«é€Ÿå•é¡Œå•Ÿå‹•è©žå®Œç¾Žé…åˆ')
    }
    
  } catch (error) {
    console.error('âŒ å‰µå»ºéŽç¨‹ç™¼ç”ŸéŒ¯èª¤:', error)
  }
}

// åŸ·è¡Œå‰µå»º
createEnhancedFAQs()


