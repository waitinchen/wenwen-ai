# WEN 1.1.1 部署檢查清單

## 📋 版本資訊
- **版本號**: WEN 1.1.1
- **建置編號**: 20250923-005
- **發布日期**: 2025-09-23
- **主要功能**: 停車場資料匯入與商家分類優化

## 🎯 本版本主要更新

### 1. 停車場資料匯入 ✅
- 匯入高雄市鳳山區38筆停車場資料
- 包含完整地址、車位數、費率、營業時間等資訊
- 新增「停車場」分類到商家資料庫

### 2. 商家分類優化 ✅
- 建立兩層分類架構（8個大分類）
- 修復餐飲美食分類統計問題（從0家修正為41家）
- 優化管理後台分類顯示

### 3. 訓練資料同步機制 ✅
- 建立訓練資料與 Edge Function 的同步機制
- 創建同步腳本和部署流程
- 支援內容管理系統整合

## 🔍 部署前檢查

### 資料庫檢查
- [ ] 確認 stores 表包含 227 家商家（原189 + 38停車場）
- [ ] 確認停車場分類有 38 筆資料
- [ ] 確認分類統計正確：
  - 醫療保健：47 家
  - 購物消費：41 家
  - 餐飲美食：41 家
  - 停車場：38 家
  - 其他：18 家
  - 生活服務：16 家
  - 教育培訓：13 家
  - 休閒娛樂：9 家
  - 住宿旅遊：4 家

### 程式碼檢查
- [ ] 版本號已更新為 WEN 1.1.1
- [ ] Edge Function 版本標記已更新
- [ ] 變更日誌已添加
- [ ] 無編譯錯誤

### 功能測試
- [ ] 管理後台分類統計顯示正確
- [ ] 停車場資料可正常查詢
- [ ] 高文文可推薦停車場資訊
- [ ] 商家篩選功能正常

## 🚀 部署步驟

### 1. 前端部署
```bash
# 建置生產版本
npm run build:production

# 上傳 dist 目錄到正式環境
# 確認版本號顯示為 WEN 1.1.1
```

### 2. Edge Function 部署
```bash
# 複製 scripts/index.ts 內容
# 前往 Supabase Dashboard > Edge Functions > claude-chat
# 貼上更新後的代碼
# 點擊 Deploy 按鈕
```

### 3. 驗證部署
```bash
# 測試基本功能
npm run test:kentucky

# 測試停車場查詢
npm run eval:parking

# 測試分類統計
# 檢查管理後台分類顯示
```

## 📊 預期結果

### 管理後台
- 商家總數：227 家
- 停車場：38 家
- 餐飲美食：41 家（不再是0家）

### 高文文功能
- 可推薦停車場資訊
- 分類統計正確
- 推薦邏輯正常

### 用戶體驗
- 停車查詢功能增強
- 商家分類更清晰
- 推薦準確度提升

## ⚠️ 注意事項

1. **資料備份**：部署前請確認資料庫已備份
2. **版本相容性**：確認前端與 Edge Function 版本一致
3. **測試環境**：建議先在測試環境驗證
4. **監控**：部署後密切監控系統狀態

## 🔧 回滾計畫

如果部署後發現問題：
1. 回滾前端到 WEN 1.1.0
2. 回滾 Edge Function 到前一版本
3. 檢查資料庫狀態
4. 分析問題原因

## 📞 聯絡資訊

- **開發者**: C謀
- **測試負責人**: 待指定
- **部署負責人**: 待指定

---

**部署檢查完成後，請在此清單上簽名確認**
