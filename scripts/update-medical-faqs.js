/**
 * æ ¹æ“šå¯¦éš›é†«ç™‚ä¿å¥å•†å®¶è³‡æ–™æ›´æ–°é†«ç™‚ä¿å¥FAQç­”æ¡ˆä¸¦ç›´æŽ¥åŒ¯å…¥
 */

import { createClient } from '@supabase/supabase-js'

const supabaseUrl = 'https://vqcuwjfxoxjgsrueqodj.supabase.co'
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxY3V3amZ4b3hqZ3NydWVxb2RqIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NzkwNzQ4NSwiZXhwIjoyMDczNDgzNDg1fQ.qgpIbHaGFv7-Coy165-LrFnjwR5DexWenrNf4f0P4YE'

const supabase = createClient(supabaseUrl, supabaseKey)

// åŸºæ–¼å¯¦éš›é†«ç™‚ä¿å¥å•†å®¶è³‡æ–™çš„ç­”æ¡ˆ
const medicalFAQUpdates = [
  {
    question: 'é™„è¿‘æœ‰è¨ºæ‰€å—Žï¼Ÿ',
    answer: 'æ–‡å±±ç‰¹å€æœ‰å¤šå®¶è¨ºæ‰€ï¼šå¥æ³°ä¸­é†«è¨ºæ‰€ã€ä½•è±ç¾Žå­¸ç‰™é†«è¨ºæ‰€ã€å¾—æ©ç‰™é†«è¨ºæ‰€ã€ç«‹é”è¨ºæ‰€ã€åšä»ç¶œåˆé†«é™¢ã€æ˜­èžè€³é¼»å–‰ç§‘è¨ºæ‰€ã€æž—å»ºæ˜Œä¸­é†«è¨ºæ‰€ã€ç™¾ä¸–å°ˆæ¥­ç‰™é†«è¨ºæ‰€ã€å°šæ–°è¨ºæ‰€ã€è‡³å’Œä¸­é†«è¨ºæ‰€æ–°ç¦æœ¬é™¢ã€é™³å½¥ä¼¸è€³é¼»å–‰ç§‘è¨ºæ‰€ã€é³³å±±å¤§å­¸çœ¼ç§‘è¨ºæ‰€ã€Abc Fengshan dentistã€ä¹…ä»æ³Œå°¿ç§‘è¨ºæ‰€ã€äº”ç”²å¤§å’Œç‰™é†«è¨ºæ‰€ã€ä»æ©å ‚ä¸­é†«è¨ºæ‰€ã€ä½‘å¯§è€³é¼»å–‰å°ˆç§‘è¨ºæ‰€ã€å…ƒæ–°çœ¼ç§‘è¨ºæ‰€ã€å…ƒæ­£ç‰™é†«è¨ºæ‰€ã€å£¹å…«å…«ç¾Žå­¸ç‰™é†«è¨ºæ‰€ã€å¯Œé¨Žç‰™é†«è¨ºæ‰€ã€å°ç†Šç‰™é†«è¨ºæ‰€ã€æ©å¾·å©¦ç”¢ç§‘è¨ºæ‰€ã€æ™‚æ‰¿ç‰™é†«è¨ºæ‰€ã€æž—éŒ¦æµ©é»ƒæ­£å®—è€³é¼»å–‰ç§‘ã€æ¨‚èª å¾©å¥ç§‘è¨ºæ‰€ã€ç”˜è‰å ‚ä¸­é†«è¨ºæ‰€ã€è‡³å’Œä¸­é†«è¨ºæ‰€é³³æž—åˆ†é™¢ã€è‡»æ¬£ç‰™é†«è¨ºæ‰€ã€è‘‰è€³é¼»å–‰ç§‘è¨ºæ‰€ã€èª å¿ƒç‰™é†«è¨ºæ‰€ã€é‚±æ­£ç¾©å©¦ç”¢ç§‘è¨ºæ‰€ã€é¦¨å®‰å©¦ç”¢ç§‘è¨ºæ‰€ã€é«˜é›„é³³å±±å…¸ç¯„ç‰™é†«ã€é³³å±±ä¸Šæ˜Žçœ¼ç§‘è¨ºæ‰€ã€é³³å±±æ¤ç‰™-æ™¨å…‰ç‰™é†«è¨ºæ‰€ã€é³³å±±ç²¾å“ç‰™é†«è¨ºæ‰€ã€é³³å±±è«¾è²çˆ¾çœ¼ç§‘è¨ºæ‰€ã€é³³å±±é¦¬å…‰ä¸­é†«è¨ºæ‰€ã€é³³æž—ç‰™é†«è¨ºæ‰€ç­‰ï¼Œæä¾›å„ç¨®é†«ç™‚æœå‹™ã€‚'
  },
  {
    question: 'ç‰™é†«æŽ¨è–¦',
    answer: 'æ–‡å±±ç‰¹å€æœ‰14å®¶ç‰™é†«è¨ºæ‰€ï¼šä½•è±ç¾Žå­¸ç‰™é†«è¨ºæ‰€ã€å¾—æ©ç‰™é†«è¨ºæ‰€ã€ç™¾ä¸–å°ˆæ¥­ç‰™é†«è¨ºæ‰€ã€Abc Fengshan dentistã€äº”ç”²å¤§å’Œç‰™é†«è¨ºæ‰€ã€å£¹å…«å…«ç¾Žå­¸ç‰™é†«è¨ºæ‰€ã€å¯Œé¨Žç‰™é†«è¨ºæ‰€ã€å°ç†Šç‰™é†«è¨ºæ‰€ã€æ™‚æ‰¿ç‰™é†«è¨ºæ‰€ã€è‡»æ¬£ç‰™é†«è¨ºæ‰€ã€èª å¿ƒç‰™é†«è¨ºæ‰€ã€é«˜é›„é³³å±±å…¸ç¯„ç‰™é†«ã€é³³å±±æ¤ç‰™-æ™¨å…‰ç‰™é†«è¨ºæ‰€ã€é³³å±±ç²¾å“ç‰™é†«è¨ºæ‰€ã€é³³æž—ç‰™é†«è¨ºæ‰€ç­‰ï¼Œæä¾›å°ˆæ¥­çš„ç‰™ç§‘æœå‹™ï¼ŒåŒ…æ‹¬æ¤ç‰™ã€çŸ¯æ­£ã€ç¾Žå­¸ç‰™é†«ç­‰ã€‚'
  },
  {
    question: 'ä¸­é†«è¨ºæ‰€',
    answer: 'æ–‡å±±ç‰¹å€æœ‰6å®¶ä¸­é†«è¨ºæ‰€ï¼šå¥æ³°ä¸­é†«è¨ºæ‰€ã€æž—å»ºæ˜Œä¸­é†«è¨ºæ‰€ã€è‡³å’Œä¸­é†«è¨ºæ‰€æ–°ç¦æœ¬é™¢ã€ä»æ©å ‚ä¸­é†«è¨ºæ‰€ã€ç”˜è‰å ‚ä¸­é†«è¨ºæ‰€ã€è‡³å’Œä¸­é†«è¨ºæ‰€é³³æž—åˆ†é™¢ã€é³³å±±é¦¬å…‰ä¸­é†«è¨ºæ‰€ç­‰ï¼Œæä¾›ä¸­é†«è¨ºç™‚æœå‹™ï¼ŒåŒ…æ‹¬ä¸­é†«å…§ç§‘ç­‰å°ˆæ¥­æœå‹™ã€‚'
  },
  {
    question: 'çœ¼ç§‘è¨ºæ‰€',
    answer: 'æ–‡å±±ç‰¹å€æœ‰4å®¶çœ¼ç§‘è¨ºæ‰€ï¼šé³³å±±å¤§å­¸çœ¼ç§‘è¨ºæ‰€ã€å…ƒæ–°çœ¼ç§‘è¨ºæ‰€ã€é³³å±±ä¸Šæ˜Žçœ¼ç§‘è¨ºæ‰€ã€é³³å±±è«¾è²çˆ¾çœ¼ç§‘è¨ºæ‰€ç­‰ï¼Œæä¾›è¦–åŠ›æª¢æŸ¥ã€çœ¼ç–¾æ²»ç™‚ã€çœ¼ç§‘æ‰‹è¡“ç­‰æœå‹™ã€‚'
  },
  {
    question: 'å©¦ç”¢ç§‘',
    answer: 'æ–‡å±±ç‰¹å€æœ‰3å®¶å©¦ç”¢ç§‘è¨ºæ‰€ï¼šæ©å¾·å©¦ç”¢ç§‘è¨ºæ‰€ã€é‚±æ­£ç¾©å©¦ç”¢ç§‘è¨ºæ‰€ã€é¦¨å®‰å©¦ç”¢ç§‘è¨ºæ‰€ç­‰ï¼Œæä¾›å©¦ç§‘æª¢æŸ¥ã€ç”¢å‰æª¢æŸ¥ã€å©¦ç”¢ç§‘æ‰‹è¡“ç­‰æœå‹™ã€‚'
  },
  {
    question: 'å°å…’ç§‘',
    answer: 'æŠ±æ­‰ï¼Œæ–‡å±±ç‰¹å€ç›®å‰æ²’æœ‰å°ˆé–€çš„å°å…’ç§‘è¨ºæ‰€ã€‚å»ºè­°æ‚¨åˆ°å…¶ä»–å€åŸŸå°‹æ‰¾å°å…’ç§‘è¨ºæ‰€ï¼Œæˆ–è©¢å•éƒ¨åˆ†ç¶œåˆè¨ºæ‰€æ˜¯å¦æœ‰æä¾›å°å…’ç§‘æœå‹™ã€‚'
  },
  {
    question: 'æ€¥è¨ºé†«é™¢',
    answer: 'æ–‡å±±ç‰¹å€æœ‰åšä»ç¶œåˆé†«é™¢ï¼Œæä¾›æ€¥è¨ºå’Œä½é™¢æœå‹™ã€‚å¦å¤–é‚„æœ‰ç«‹é”è¨ºæ‰€ã€å°šæ–°è¨ºæ‰€ç­‰è¨ºæ‰€æä¾›é†«ç™‚æœå‹™ã€‚'
  },
  {
    question: 'è—¥å±€æŽ¨è–¦',
    answer: 'æ–‡å±±ç‰¹å€æœ‰6å®¶è—¥å±€ï¼šå®‰çªå…’è—¥å±€ã€å…ƒå…ƒé³³å±±è—¥å±€ã€å¯Œåº·æ´»åŠ›é³³æ¾è—¥å±€ã€èµ¤å±±å¥ä¿è—¥å±€ã€é’å¹´æ–°é«˜æ©‹è—¥å±€ã€é³³å±±å•¤æœ¨é³¥è—¥å±€ã€ä¸ä¸é€£éŽ–è—¥å±€ é³³å±±è‡ªç”±åº—ç­‰ï¼Œæä¾›è™•æ–¹è—¥ã€æˆè—¥ã€å¥åº·ç”¨å“ç­‰ã€‚'
  },
  {
    question: 'å¥æª¢ä¸­å¿ƒ',
    answer: 'æŠ±æ­‰ï¼Œæ–‡å±±ç‰¹å€ç›®å‰æ²’æœ‰å°ˆé–€çš„å¥æª¢ä¸­å¿ƒã€‚å»ºè­°æ‚¨åˆ°å…¶ä»–å€åŸŸå°‹æ‰¾å¥æª¢ä¸­å¿ƒï¼Œæˆ–è©¢å•éƒ¨åˆ†é†«é™¢æ˜¯å¦æœ‰æä¾›å¥åº·æª¢æŸ¥æœå‹™ã€‚'
  },
  {
    question: 'å¾©å¥ç§‘',
    answer: 'æ–‡å±±ç‰¹å€æœ‰æ¨‚èª å¾©å¥ç§‘è¨ºæ‰€ï¼Œæä¾›ç‰©ç†æ²»ç™‚ã€å¾©å¥è¨“ç·´ç­‰æœå‹™ã€‚å¦å¤–éƒ¨åˆ†é†«é™¢ä¹Ÿå¯èƒ½æœ‰å¾©å¥ç§‘æœå‹™ã€‚'
  }
]

async function updateMedicalFAQs() {
  console.log('ðŸ¥ é–‹å§‹æ›´æ–°é†«ç™‚ä¿å¥FAQç­”æ¡ˆ...')
  
  try {
    let successCount = 0
    let errorCount = 0
    
    for (const faqUpdate of medicalFAQUpdates) {
      try {
        const { data, error } = await supabase
          .from('faqs')
          .update({ answer: faqUpdate.answer })
          .eq('question', faqUpdate.question)
          .eq('category', 'é†«ç™‚ä¿å¥')
          .select()
        
        if (error) {
          console.error(`âŒ æ›´æ–°å¤±æ•—: ${faqUpdate.question}`, error.message)
          errorCount++
        } else if (data && data.length > 0) {
          console.log(`âœ… æ›´æ–°æˆåŠŸ: ${faqUpdate.question}`)
          successCount++
        } else {
          console.log(`âš ï¸ æœªæ‰¾åˆ°: ${faqUpdate.question}`)
          errorCount++
        }
      } catch (err) {
        console.error(`âŒ æ›´æ–°ç•°å¸¸: ${faqUpdate.question}`, err.message)
        errorCount++
      }
      
      // é¿å…éŽå¿«è«‹æ±‚
      await new Promise(resolve => setTimeout(resolve, 100))
    }
    
    console.log('\nðŸ“Š æ›´æ–°çµæžœçµ±è¨ˆ:')
    console.log(`âœ… æˆåŠŸæ›´æ–°: ${successCount} é¡Œ`)
    console.log(`âŒ æ›´æ–°å¤±æ•—: ${errorCount} é¡Œ`)
    console.log(`ðŸ“ˆ æˆåŠŸçŽ‡: ${((successCount / medicalFAQUpdates.length) * 100).toFixed(1)}%`)
    
    if (successCount > 0) {
      console.log('\nðŸŽ‰ é†«ç™‚ä¿å¥FAQç­”æ¡ˆæ›´æ–°å®Œæˆï¼ç¾åœ¨ç­”æ¡ˆéƒ½åŸºæ–¼å¯¦éš›çš„å•†å®¶è³‡æ–™ã€‚')
    }
    
  } catch (error) {
    console.error('ðŸ’¥ æ›´æ–°éŽç¨‹ç™¼ç”ŸéŒ¯èª¤:', error)
  }
}

// åŸ·è¡Œæ›´æ–°
updateMedicalFAQs()
  .then(() => {
    console.log('\nâœ¨ æ›´æ–°ä»»å‹™å®Œæˆï¼')
  })
  .catch((error) => {
    console.error('ðŸ’¥ æ›´æ–°å¤±æ•—:', error.message)
    process.exit(1)
  })


